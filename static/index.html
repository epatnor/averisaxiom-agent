<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AverisAxiom Control Panel - Unified Pipeline View</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

  <!-- Header with settings toggle -->
  <header>
    AverisAxiom Control Panel - Unified Pipeline View
    <div class="header-actions">
      <button id="settings-toggle-btn" class="small-button">⚙️ Settings</button>
    </div>
  </header>

  <!-- Settings panel gets loaded dynamically -->
  <div id="settings-panel" style="display: none;"></div>

  <!-- Main content area -->
  <div id="main-content" class="container">

    <!-- Account Stats Section -->
    <div class="section">
      <h3>Account Stats</h3>
      <div class="compact-group">
        <div class="stats-box">X (Twitter): 15.2K Followers / 314 Posts</div>
        <div class="stats-box">Bluesky: 3.8K Followers / 95 Posts</div>
        <div class="stats-box">Mastodon: --</div>
      </div>
    </div>

    <!-- List of generated posts -->
    <div id="pipeline-list">
      <!-- Posts injected here -->
    </div>
  </div>

  <!-- Toggle Settings Panel Logic -->
  <script>
    const toggleBtn = document.getElementById("settings-toggle-btn");
    const mainContent = document.getElementById("main-content");
    const settingsPanel = document.getElementById("settings-panel");
    let isSettingsOpen = false;

    toggleBtn.addEventListener("click", () => {
      if (!isSettingsOpen) {
        mainContent.style.display = "none";
        fetch("/static/settings.html")
          .then(res => res.text())
          .then(html => {
            settingsPanel.innerHTML = html;
            settingsPanel.style.display = "block";
            toggleBtn.textContent = "⬅ Back";
            isSettingsOpen = true;
          });
      } else {
        settingsPanel.style.display = "none";
        mainContent.style.display = "block";
        toggleBtn.textContent = "⚙️ Settings";
        isSettingsOpen = false;
      }
    });
  </script>

  <!-- App logic -->
  <script src="/static/app.js"></script>
</body>
</html>
