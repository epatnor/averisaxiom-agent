<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AverisAxiom Control Panel - Unified Pipeline View</title>
    <link rel="stylesheet" href="/static/styles.css">
    <style>
        .toggle-header {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .toggle-icon {
            transition: transform 0.2s ease;
        }
        .collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        .toggle-content {
            display: none;
        }
        .expanded .toggle-content {
            display: block;
        }
    </style>
</head>
<body>
<header>AverisAxiom Control Panel - Unified Pipeline View</header>
<div class="container">

    <!-- Manual Post -->
    <div class="section">
        <h3>Manual Post</h3>
        <div class="compact-group">
            <input type="text" id="manual-title" placeholder="Enter manual title..." style="flex: 1">
            <input type="text" id="manual-summary" placeholder="Enter manual summary..." style="flex: 2">
            <button id="submit-manual-btn" class="small-button">Submit Manual</button>
        </div>
    </div>

    <!-- AI-Assisted Post -->
    <div class="section">
        <h3>AI-Assisted Post</h3>
        <div class="compact-group">
            <input type="text" id="creative-topic" placeholder="Enter new creative topic..." style="flex:1">
            <button id="generate-draft-btn" class="small-button">Generate Draft</button>
        </div>
        <div class="toggle-header" onclick="this.nextElementSibling.classList.toggle('toggle-content'); this.classList.toggle('collapsed');">
            <h4>⚙️ Settings</h4>
            <span class="toggle-icon">⚙️</span>
        </div>
        <div class="toggle-content">
            <div class="compact-group">
                <input type="text" id="ai-base-prompt" value="Creative system prompt">
                <select id="ai-post-style">
                    <option value="creative">Creative</option>
                    <option value="joke">Joke</option>
                    <option value="rant">Rant</option>
                </select>
                <input type="number" id="ai-temperature" value="0.7" step="0.1" min="0" max="1">
            </div>
        </div>
    </div>

    <!-- Automatic Feed Generation -->
    <div class="section">
        <h3>Automatic Feed Generation</h3>
        <div class="compact-group">
            <button id="run-pipeline-btn" class="small-button">Run Automatic Pipeline</button>
            <span class="info-text">(Fetches latest news & generates Auto + Semi drafts)</span>
        </div>
        <div class="toggle-header" onclick="this.nextElementSibling.classList.toggle('toggle-content'); this.classList.toggle('collapsed');">
            <h4>⚙️ Settings</h4>
            <span class="toggle-icon">⚙️</span>
        </div>
        <div class="toggle-content">
            <div class="compact-group">
                <input type="text" id="auto-base-prompt" value="Auto system prompt">
                <select id="auto-post-style">
                    <option value="news">News</option>
                    <option value="thought">Thought</option>
                </select>
                <input type="number" id="auto-temperature" value="0.7" step="0.1" min="0" max="1">
            </div>
        </div>
    </div>

    <!-- Account Stats -->
    <div class="section">
        <h3>Account Stats</h3>
        <div class="compact-group">
            <div class="stats-box">X (Twitter): 15.2K Followers / 314 Posts</div>
            <div class="stats-box">Bluesky: 3.8K Followers / 95 Posts</div>
            <div class="stats-box">Mastodon: --</div>
        </div>
    </div>

    <div id="pipeline-list">
        <!-- Posts injected here -->
    </div>

</div>
<script src="/static/app.js"></script>
</body>
</html>
